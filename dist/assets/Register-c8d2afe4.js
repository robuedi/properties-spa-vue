import{u as D,c as E,a as d}from"./index.esm-b2b9f9ac.js";import{d as B,u as M,r as a,o as m,a as C,w as s,b as h,e as t,f as e,m as u,t as j,g as b,c as A,h as n,i as z,j as G}from"./index-55fff2b0.js";const H=n("h6",null,"Pick a password",-1),J=n("p",{class:"mt-2"},"Suggestions",-1),K=n("ul",{class:"pl-2 ml-2 mt-0",style:{"line-height":"1.5"}},[n("li",null,"At least one lowercase"),n("li",null,"At least one uppercase"),n("li",null,"At least one numeric"),n("li",null,"Minimum 8 characters")],-1),O={key:0,class:"text-center mt-2"},Q=n("strong",null,"Login",-1),U=B({__name:"RegisterForm",props:{hideLoginLink:{type:Boolean,default:!1}},emits:["registered"],setup(w,{emit:p}){const{hideLoginLink:_}=w,f=M(),{defineComponentBinds:l,handleSubmit:i,errors:o}=D({validationSchema:E({name:d().min(2).required(),email:d().email().required(),password:d().min(6).required(),password_confirmation:d().min(6).required()})}),P=l("name"),R=l("email"),F=l("password"),L=l("password_confirmation"),S=i((y,{setErrors:g,resetForm:c})=>{f.register(y).then(()=>{c(),p("registered",!0)}).catch(r=>{Array.isArray(r.response.data.errors)&&r.response.data.errors.length>0?g({general:r.response.data.errors.flat()}):g(r.response.data.errors)})});return(y,g)=>{const c=a("InputText"),r=a("ErrorFeedback"),N=a("Divider"),k=a("Password"),$=a("InlineMessage"),q=a("BasicForm"),I=a("Button"),T=a("router-link"),V=a("Card");return m(),C(V,{style:{width:"25em"}},{title:s(()=>[h(" Register ")]),content:s(()=>[t(q,{class:"mt-3"},{default:s(()=>{var x;return[t(r,{error:e(o).name},{default:s(()=>[t(c,u({placeholder:"Name",class:"w-full",id:"value"},e(P),{type:"text",name:"name",class:{"p-invalid":!!e(o).name},"aria-describedby":"text-error"}),null,16,["class"])]),_:1},8,["error"]),t(r,{error:e(o).email},{default:s(()=>[t(c,u({placeholder:"Email",class:"w-full",id:"value"},e(R),{type:"text",name:"email",class:{"p-invalid":!!e(o).email},"aria-describedby":"text-error"}),null,16,["class"])]),_:1},8,["error"]),t(r,{error:e(o).password},{default:s(()=>[t(k,u(e(F),{inputClass:"w-full",placeholder:"Password"}),{header:s(()=>[H]),footer:s(()=>[t(N),J,K]),_:1},16)]),_:1},8,["error"]),t(r,{error:e(o).password_confirmation},{default:s(()=>[t(k,u({feedback:!1},e(L),{inputClass:"w-full",placeholder:"Password Confirmation"}),null,16)]),_:1},8,["error"]),(x=e(o))!=null&&x.general?(m(),C($,{key:0,severity:"warn"},{default:s(()=>{var v;return[h(j((v=e(o))==null?void 0:v.general),1)]}),_:1})):b("",!0)]}),_:1})]),footer:s(()=>[t(I,{icon:"pi pi-user",onClick:e(S),class:"w-full",label:"Register"},null,8,["onClick"]),_?b("",!0):(m(),A("p",O,[h(" Already having an account? "),t(T,{class:"text-dark text-weight-bold",style:{"text-decoration":"none"},to:{name:"login"}},{default:s(()=>[Q]),_:1})]))]),_:1})}}}),W={class:"grow flex justify-center items-center"},Z=B({__name:"Register",setup(w){const p=z(),_=G(),f=()=>{_.add({severity:"success",summary:"Successful registration",detail:"Please login",life:3e3}),p.push({name:"login"})};return(l,i)=>(m(),A("div",W,[t(U,{onRegistered:i[0]||(i[0]=o=>f())})]))}});export{Z as default};
