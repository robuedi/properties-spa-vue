import{u as V,c as D,a as d}from"./index.esm-93490f75.js";import{u as E,r as a,o as m,a as b,w as t,b as h,d as s,e,m as u,t as M,f as C,c as B,g as n,h as j,i as z}from"./index-a0f5dad9.js";const G=n("h6",null,"Pick a password",-1),H=n("p",{class:"mt-2"},"Suggestions",-1),J=n("ul",{class:"pl-2 ml-2 mt-0",style:{"line-height":"1.5"}},[n("li",null,"At least one lowercase"),n("li",null,"At least one uppercase"),n("li",null,"At least one numeric"),n("li",null,"Minimum 8 characters")],-1),K={key:0,class:"text-center mt-2"},O=n("strong",null,"Login",-1),Q={__name:"RegisterForm",props:{hideLoginLink:{type:Boolean,required:!1,default:!1}},emits:["registered"],setup(w,{emit:p}){const _=w,f=E(),{defineComponentBinds:l,handleSubmit:i,errors:r}=V({validationSchema:D({name:d().min(2).required(),email:d().email().required(),password:d().min(6).required(),password_confirmation:d().min(6).required()})}),A=l("name"),P=l("email"),R=l("password"),F=l("password_confirmation"),L=i((y,{setErrors:g,resetForm:c})=>{f.register(y).then(()=>{c(),p("registered",!0)}).catch(o=>{Array.isArray(o.response.data.errors)&&o.response.data.errors.length>0?g({general:o.response.data.errors.flat()}):g(o.response.data.errors)})});return(y,g)=>{const c=a("InputText"),o=a("ErrorFeedback"),S=a("Divider"),k=a("Password"),q=a("InlineMessage"),N=a("BasicForm"),$=a("Button"),I=a("router-link"),T=a("Card");return m(),b(T,{style:{width:"25em"}},{title:t(()=>[h(" Register ")]),content:t(()=>[s(N,{class:"mt-3"},{default:t(()=>{var x;return[s(o,{error:e(r).name},{default:t(()=>[s(c,u({placeholder:"Name",class:"w-full",id:"value"},e(A),{type:"text",name:"name",class:{"p-invalid":!!e(r).name},"aria-describedby":"text-error"}),null,16,["class"])]),_:1},8,["error"]),s(o,{error:e(r).email},{default:t(()=>[s(c,u({placeholder:"Email",class:"w-full",id:"value"},e(P),{type:"text",name:"email",class:{"p-invalid":!!e(r).email},"aria-describedby":"text-error"}),null,16,["class"])]),_:1},8,["error"]),s(o,{error:e(r).password},{default:t(()=>[s(k,u(e(R),{inputClass:"w-full",placeholder:"Password"}),{header:t(()=>[G]),footer:t(()=>[s(S),H,J]),_:1},16)]),_:1},8,["error"]),s(o,{error:e(r).password_confirmation},{default:t(()=>[s(k,u({feedback:!1},e(F),{inputClass:"w-full",placeholder:"Password Confirmation"}),null,16)]),_:1},8,["error"]),(x=e(r))!=null&&x.general?(m(),b(q,{key:0,severity:"warn"},{default:t(()=>{var v;return[h(M((v=e(r))==null?void 0:v.general),1)]}),_:1})):C("",!0)]}),_:1})]),footer:t(()=>[s($,{icon:"pi pi-user",onClick:e(L),class:"w-full",label:"Register"},null,8,["onClick"]),_.hideLoginLink?C("",!0):(m(),B("p",K,[h(" Already having an account? "),s(I,{class:"text-dark text-weight-bold",style:{"text-decoration":"none"},to:{name:"login"}},{default:t(()=>[O]),_:1})]))]),_:1})}}},U={class:"grow flex justify-center items-center"},Y={__name:"Register",setup(w){const p=j(),_=z(),f=()=>{_.add({severity:"success",summary:"Successful registration",detail:"Please login",life:3e3}),p.push({name:"login"})};return(l,i)=>(m(),B("div",U,[s(Q,{onRegistered:i[0]||(i[0]=r=>f())})]))}};export{Y as default};
